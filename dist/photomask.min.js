var Photomask=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].a;var module=installedModules[moduleId]={a:{},b:moduleId,c:false};modules[moduleId].call(module.a,module,module.a,__webpack_require__);module.c=true;return module.a}__webpack_require__.d=modules;__webpack_require__.e=installedModules;__webpack_require__.f="";return __webpack_require__(0)}([function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{g:true});exports.h=transform;function transform(img,_ref){var src=_ref.i;var text=_ref.j;var computerProperty=function computerProperty(property){var coerceFn=arguments.length<=1||arguments[1]===undefined?parseFloat:arguments[1];return(coerceFn||function(x){return x})(getComputedStyle(img).getPropertyValue(property),10)};var height=computerProperty("height");var width=computerProperty("width");var paddingLeft=computerProperty("padding-left");var paddingRight=computerProperty("padding-right");var paddingTop=computerProperty("padding-top");var fontFamily=computerProperty("font-family",null);console.log(fontFamily);var fontSize=function computeFontSize(_x2,_x3){var _again=true;_function:while(_again){var size=_x2,widthConstraint=_x3;_again=false;var canvas=document.createElement("canvas");var context=canvas.getContext("2d");context.k=size+"px "+fontFamily;if(context.measureText(text).width<=widthConstraint){return size}_x2=size-1;_x3=widthConstraint;_again=true;canvas=context=undefined;continue _function}}(500,width-(paddingLeft+paddingRight));var svg='<svg xmlns="http://www.w3.org/2000/svg">\n                    <text x="'+width/2+'" y="'+(height/2+paddingTop)+'" fill="white"\n                          font-size="'+fontSize+'" font-family="'+fontFamily+'"\n                          alignment-baseline="central" text-anchor="middle">\n                        '+text+"\n                    </text>\n                 </svg>";var mask="url(data:image/svg+xml;base64,"+btoa(svg)+")";img.setAttribute("style","\n        padding: 0;\n        background-image: url("+src+");\n        background-size: cover;\n        -webkit-mask-image: "+mask+";\n        mask: "+mask)}function readAttributes(element){return{j:element.getAttribute("alt"),i:element.getAttribute("src")}}document.registerElement("x-photomask",{l:"img",prototype:Object.create(HTMLImageElement.prototype,{m:{g:function attachedCallback(){transform(this,readAttributes(this))}}})})}]);