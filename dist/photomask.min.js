var Photomask=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].a;var module=installedModules[moduleId]={a:{},b:moduleId,c:false};modules[moduleId].call(module.a,module,module.a,__webpack_require__);module.c=true;return module.a}__webpack_require__.d=modules;__webpack_require__.e=installedModules;__webpack_require__.f="";return __webpack_require__(0)}([function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{g:true});exports.h=transform;function transform(img,_ref){var src=_ref.i;var text=_ref.j;var getDimension=function getDimension(property){return parseInt(getComputedStyle(img).getPropertyValue(property),10)};var height=getDimension("height");var width=getDimension("width");var paddingLeft=getDimension("padding-left");var paddingRight=getDimension("padding-right");var paddingTop=getDimension("padding-top");var fontSize=function computeFontSize(_x,_x2){var _again=true;_function:while(_again){var size=_x,widthConstraint=_x2;_again=false;var canvas=document.createElement("canvas");var context=canvas.getContext("2d");context.k=size+"px 'WhoopAss'";if(context.measureText(text).width<=widthConstraint){return size}_x=size-1;_x2=widthConstraint;_again=true;canvas=context=undefined;continue _function}}(500,width-(paddingLeft+paddingRight));var svg='<svg xmlns="http://www.w3.org/2000/svg">\n                    <text x="'+width/2+'" y="'+(height/2+paddingTop)+'" fill="white"\n                          font-size="'+fontSize+'" font-family="WhoopAss, san-serif"\n                          alignment-baseline="central" text-anchor="middle">\n                        '+text+"\n                    </text>\n                 </svg>";var mask="url(data:image/svg+xml;base64,"+btoa(svg)+")";img.setAttribute("style","\n        padding: 0;\n        background-image: url('images/meadows.jpg');\n        background-size: cover;\n        -webkit-mask-image: "+mask+";\n        mask: "+mask)}function readAttributes(element){return{j:element.getAttribute("alt"),i:element.getAttribute("src")}}document.registerElement("x-photomask",{l:"img",prototype:Object.create(HTMLImageElement.prototype,{m:{g:function attachedCallback(){transform(this,readAttributes(this))}}})})}]);